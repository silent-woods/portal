    @using App.Web.Areas.Admin.Models.WeeklyReports;
    @model WeeklyReportModel
    @{
        Layout = "_ColumnsTwo";

        NopHtml.AddTitleParts(T("PageTitle.Account").Text);
        NopHtml.AppendPageCssClassParts("html-account-page");
        NopHtml.AppendPageCssClassParts("html-customer-info-page");
    }

    @section left
        {
        @await Component.InvokeAsync(typeof(CustomerNavigationViewComponent), new { selectedTabId = CustomerNavigationEnum.Info })
    }
<style>
    /* Styles for date toggle buttons and collapse cards */
    .date-toggle {
        background-color: transparent;
        border: none;
        color: #007bff; /* Blue link color */
        text-decoration: none;
        cursor: pointer;
        padding: 0;
        margin: 0;
    }

        .date-toggle:focus {
            outline: none; /* Remove outline on focus */
        }

    .collapse-card {
        margin-bottom: 20px; /* Add spacing between collapse cards */
    }

    /* Styles for question text and error messages */
    .question-text {
        font-weight: bold;
    }

    .text-danger {
        color: #dc3545; /* Red color for error messages */
    }

    /* Styles for readonly input fields */
    .form-control[readonly] {
        background-color: #f8f9fa; /* Light gray background for readonly inputs */
    }

    /* Styles for content area and add button */
    content {
        border: none;
    }

    .add-dailyreport-button {
        min-width: 140px;
        border: 0;
        background-color: #4ab2f1;
        padding: 10px 30px;
        font-size: 15px;
        color: #fff;
        text-transform: uppercase;
    }

    .add-button {
        text-align: right;
    }

    /* Styles for report statistics list */
    .stats {
        list-style-type: none;
        padding: 0;
    }


   
    .content {
        border: none;
    }

    .add-dailyreport-button {
        min-width: 140px;
        border: 0;
        background-color: #4ab2f1;
        padding: 10px 30px;
        font-size: 15px;
        color: #fff;
        text-transform: uppercase;
        margin-bottom: 20px;
    }

    .add-button {
        text-align: right;
        margin-bottom: 20px;
    }

    .stats {
        list-style-type: none;
        padding: 0;
    }

        .stats .location {
            border: none;
            padding: 10px 0;
        }

    .collapse {
        display: none;
        margin-bottom: 20px;
    }

        .collapse.show {
            display: block;
        }

    .card {
        border: 1px solid #ddd;
        border-radius: 4px;
        margin-bottom: 20px;
    }

    .card-body {
        padding: 20px;
    }

    .text-danger {
        color: #dc3545;
    }

    .row.mb-3 {
        margin-bottom: 1rem !important;
    }

   .date-toggle-container {
        text-align: center;
        margin: 20px 0;
        border: 1px solid #ddd;  /* Border around the container */
        padding: 10px;  /* Padding inside the container */
        background-color: #f8f9fa;  /* Light background color */
        position: relative;
    }

    .date-toggle-container::after {
        content: "";
        display: block;
        width: 100%;
        height: 1px;
        background-color: #000;  /* Black underline */
        position: absolute;
        bottom: 0;
        left: 0;
    }

    label
    {
        font-weight:600;
    }

</style>

    <div class="add-button">
        <button type="button" class="button-1 add-dailyreport-button" onclick="location.href='@Url.RouteUrl("WeeklyreportCreate")'">@T("Common.AddNew")</button>
    </div>


<form asp-route="List" method="post">
    <input asp-for="@Model.EmployeeId" id="employeeid" name="employeeid" type="hidden" />
    <div class="page account-page customer-info-page">
        <div class="page-title">
            <h1>@T("Account.MyAccount") - @T("Account.WeeklyUpdateList")</h1>
        </div>
        <div class="page-body">

            @if (Model != null && Model.DateWiseReports != null)
            {
                foreach (var dateReport in Model.DateWiseReports)
                {
                    if (dateReport.Key != DateTime.MinValue)
                    {
                        var formattedDate = dateReport.Key.ToString("MM-dd-yyyy");
                        <div class="date-toggle-container">
                            <button class="btn btn-link date-toggle" type="button" aria-controls="collapse-@formattedDate">
                                @formattedDate
                            </button>
                        </div>
                        <div class="collapse" id="collapse-@formattedDate">
                            <div class="card">
                                <div class="card-body">
                                    @foreach (var report in dateReport.Value)
                                    {
                                        if (report != null)
                                        {
                                            <ul class="stats">
                                                <li class="location">
                                                    <label>@report.QuestionText</label><br>
                                                    <span>@report.ControlValue</span>
                                                </li>
                                            </ul>
                                        }
                                        else
                                        {
                                            <div class="row mb-3">
                                                <div class="col-md-12">
                                                    <div class="text-danger">Report data is missing or invalid.</div>
                                                </div>
                                            </div>
                                        }
                                    }

                                </div>
                            </div>
                        </div>
                    }
                }
            }
            else
            {
                <div class="text-danger">Model or DateWiseReports is null.</div>
            }

        </div>
    </div>
</form>

<script asp-location="Footer">
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".date-toggle").forEach(function (button) {
            button.addEventListener("click", function () {
                var targetId = this.getAttribute("aria-controls");
                var targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.classList.toggle("show");
                }
            });
        });
    });
</script>

